/***********************************************************************************************
/                             oled模块函数----c文件
/-----------------------------------------------------------------------------------------------
/----淘宝：驰瑞纵横电子科技			http://crzongheng.taobao.com
/----版本：V1.0	
/----时间：2013-10-18
/----说明：外部调用的函数：
/----           
/----
***********************************************************************************************/

#include "oled.h"

//***************************************变量***************************************************//
/*
    OLED显示屏大小：宽128*高64像素
    设置英文字体大小：宽6*高8像素
    最多字符数量：宽21*高8 = 168个字符
*/
//定义要使用到结构体
//GPIO_InitTypeDef GPIO_InitStruct1;

//外部函数及变量调用声明
extern uint8 img[CAMERA_H][CAMERA_W];
extern uint8 Pixel_A[128];
char   printbuff[13]; //6*13=78列
/********************************************************/
//6*8点阵字符
const unsigned char F6x8[][6] =
{
	 { 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 },   // sp
     { 0x00, 0x00, 0x00, 0x2f, 0x00, 0x00 },   // !
     { 0x00, 0x00, 0x07, 0x00, 0x07, 0x00 },   // "
     { 0x00, 0x14, 0x7f, 0x14, 0x7f, 0x14 },   // #
     { 0x00, 0x24, 0x2a, 0x7f, 0x2a, 0x12 },   // $
     { 0x00, 0x62, 0x64, 0x08, 0x13, 0x23 },   // %
     { 0x00, 0x36, 0x49, 0x55, 0x22, 0x50 },   // &
     { 0x00, 0x00, 0x05, 0x03, 0x00, 0x00 },   // '
     { 0x00, 0x00, 0x1c, 0x22, 0x41, 0x00 },   // (
     { 0x00, 0x00, 0x41, 0x22, 0x1c, 0x00 },   // )
     { 0x00, 0x14, 0x08, 0x3E, 0x08, 0x14 },   // *
     { 0x00, 0x08, 0x08, 0x3E, 0x08, 0x08 },   // +
     { 0x00, 0x00, 0x00, 0xA0, 0x60, 0x00 },   // ,
     { 0x00, 0x08, 0x08, 0x08, 0x08, 0x08 },   // -
     { 0x00, 0x00, 0x60, 0x60, 0x00, 0x00 },   // .
     { 0x00, 0x20, 0x10, 0x08, 0x04, 0x02 },   // /
     { 0x00, 0x3E, 0x51, 0x49, 0x45, 0x3E },   // 0
     { 0x00, 0x00, 0x42, 0x7F, 0x40, 0x00 },   // 1
     { 0x00, 0x42, 0x61, 0x51, 0x49, 0x46 },   // 2
     { 0x00, 0x21, 0x41, 0x45, 0x4B, 0x31 },   // 3
     { 0x00, 0x18, 0x14, 0x12, 0x7F, 0x10 },   // 4
     { 0x00, 0x27, 0x45, 0x45, 0x45, 0x39 },   // 5
     { 0x00, 0x3C, 0x4A, 0x49, 0x49, 0x30 },   // 6
     { 0x00, 0x01, 0x71, 0x09, 0x05, 0x03 },   // 7
     { 0x00, 0x36, 0x49, 0x49, 0x49, 0x36 },   // 8
     { 0x00, 0x06, 0x49, 0x49, 0x29, 0x1E },   // 9
     { 0x00, 0x00, 0x36, 0x36, 0x00, 0x00 },   // :
     { 0x00, 0x00, 0x56, 0x36, 0x00, 0x00 },   // ;
     { 0x00, 0x08, 0x14, 0x22, 0x41, 0x00 },   // <
     { 0x00, 0x14, 0x14, 0x14, 0x14, 0x14 },   // =
     { 0x00, 0x00, 0x41, 0x22, 0x14, 0x08 },   // >
     { 0x00, 0x02, 0x01, 0x51, 0x09, 0x06 },   // ?
     { 0x00, 0x32, 0x49, 0x59, 0x51, 0x3E },   // @
     { 0x00, 0x7C, 0x12, 0x11, 0x12, 0x7C },   // A
     { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x36 },   // B
     { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x22 },   // C
     { 0x00, 0x7F, 0x41, 0x41, 0x22, 0x1C },   // D
     { 0x00, 0x7F, 0x49, 0x49, 0x49, 0x41 },   // E
     { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x01 },   // F
     { 0x00, 0x3E, 0x41, 0x49, 0x49, 0x7A },   // G
     { 0x00, 0x7F, 0x08, 0x08, 0x08, 0x7F },   // H
     { 0x00, 0x00, 0x41, 0x7F, 0x41, 0x00 },   // I
     { 0x00, 0x20, 0x40, 0x41, 0x3F, 0x01 },   // J
     { 0x00, 0x7F, 0x08, 0x14, 0x22, 0x41 },   // K
     { 0x00, 0x7F, 0x40, 0x40, 0x40, 0x40 },   // L
     { 0x00, 0x7F, 0x02, 0x0C, 0x02, 0x7F },   // M
     { 0x00, 0x7F, 0x04, 0x08, 0x10, 0x7F },   // N
     { 0x00, 0x3E, 0x41, 0x41, 0x41, 0x3E },   // O
     { 0x00, 0x7F, 0x09, 0x09, 0x09, 0x06 },   // P
     { 0x00, 0x3E, 0x41, 0x51, 0x21, 0x5E },   // Q
     { 0x00, 0x7F, 0x09, 0x19, 0x29, 0x46 },   // R
     { 0x00, 0x46, 0x49, 0x49, 0x49, 0x31 },   // S
     { 0x00, 0x01, 0x01, 0x7F, 0x01, 0x01 },   // T
     { 0x00, 0x3F, 0x40, 0x40, 0x40, 0x3F },   // U
     { 0x00, 0x1F, 0x20, 0x40, 0x20, 0x1F },   // V
     { 0x00, 0x3F, 0x40, 0x38, 0x40, 0x3F },   // W
     { 0x00, 0x63, 0x14, 0x08, 0x14, 0x63 },   // X
     { 0x00, 0x07, 0x08, 0x70, 0x08, 0x07 },   // Y
     { 0x00, 0x61, 0x51, 0x49, 0x45, 0x43 },   // Z
     { 0x00, 0x00, 0x7F, 0x41, 0x41, 0x00 },   // [
     { 0x00, 0x55, 0x2A, 0x55, 0x2A, 0x55 },   // 55
     { 0x00, 0x00, 0x41, 0x41, 0x7F, 0x00 },   // ]
     { 0x00, 0x04, 0x02, 0x01, 0x02, 0x04 },   // ^
     { 0x00, 0x40, 0x40, 0x40, 0x40, 0x40 },   // _
     { 0x00, 0x00, 0x01, 0x02, 0x04, 0x00 },   // '
     { 0x00, 0x20, 0x54, 0x54, 0x54, 0x78 },   // a
     { 0x00, 0x7F, 0x48, 0x44, 0x44, 0x38 },   // b
     { 0x00, 0x38, 0x44, 0x44, 0x44, 0x20 },   // c
     { 0x00, 0x38, 0x44, 0x44, 0x48, 0x7F },   // d
     { 0x00, 0x38, 0x54, 0x54, 0x54, 0x18 },   // e
     { 0x00, 0x08, 0x7E, 0x09, 0x01, 0x02 },   // f
     { 0x00, 0x18, 0xA4, 0xA4, 0xA4, 0x7C },   // g
     { 0x00, 0x7F, 0x08, 0x04, 0x04, 0x78 },   // h
     { 0x00, 0x00, 0x44, 0x7D, 0x40, 0x00 },   // i
     { 0x00, 0x40, 0x80, 0x84, 0x7D, 0x00 },   // j
     { 0x00, 0x7F, 0x10, 0x28, 0x44, 0x00 },   // k
     { 0x00, 0x00, 0x41, 0x7F, 0x40, 0x00 },   // l
     { 0x00, 0x7C, 0x04, 0x18, 0x04, 0x78 },   // m
     { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x78 },   // n
     { 0x00, 0x38, 0x44, 0x44, 0x44, 0x38 },   // o
     { 0x00, 0xFC, 0x24, 0x24, 0x24, 0x18 },   // p
     { 0x00, 0x18, 0x24, 0x24, 0x18, 0xFC },   // q
     { 0x00, 0x7C, 0x08, 0x04, 0x04, 0x08 },   // r
     { 0x00, 0x48, 0x54, 0x54, 0x54, 0x20 },   // s
     { 0x00, 0x04, 0x3F, 0x44, 0x40, 0x20 },   // t
     { 0x00, 0x3C, 0x40, 0x40, 0x20, 0x7C },   // u
     { 0x00, 0x1C, 0x20, 0x40, 0x20, 0x1C },   // v
     { 0x00, 0x3C, 0x40, 0x30, 0x40, 0x3C },   // w
     { 0x00, 0x44, 0x28, 0x10, 0x28, 0x44 },   // x
     { 0x00, 0x1C, 0xA0, 0xA0, 0xA0, 0x7C },   // y
     { 0x00, 0x44, 0x64, 0x54, 0x4C, 0x44 },   // z
     { 0x14, 0x14, 0x14, 0x14, 0x14, 0x14 }    // horiz lines
};

//8*16点阵字符
const unsigned char F8X16[]=
{
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,// 0
  0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,//!1
  0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//"2
  0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,//#3
  0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,//$4
  0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,//%5
  0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,//&6
  0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//'7
  0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,//(8
  0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,//)9
  0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,//*10
  0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,//+11
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,//,12
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,//-13
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,//.14
  0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,///15
  0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,//016
  0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//117
  0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,//218
  0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,//319
  0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,//420
  0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,//521
  0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,//622
  0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,//723
  0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,//824
  0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,//925
  0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,//:26
  0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,//;27
  0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,//<28
  0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,//=29
  0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,//>30
  0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,//?31
  0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00,//@32
  0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,//A33
  0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,//B34
  0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,//C35
  0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,//D36
  0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,//E37
  0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,//F38
  0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,//G39
  0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,//H40
  0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//I41
  0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,//J42
  0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,//K43
  0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,//L44
  0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,//M45
  0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,//N46
  0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,//O47
  0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,//P48
  0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,//Q49
  0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,//R50
  0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,//S51
  0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//T52
  0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//U53
  0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,//V54
  0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,//W55
  0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,//X56
  0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,//Y57
  0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,//Z58
  0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,//[59
  0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,//\60
  0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,//]61
  0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//^62
  0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,//_63
  0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//`64
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,//a65
  0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,//b66
  0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,//c67
  0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,//d68
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,//e69
  0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//f70
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,//g71
  0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//h72
  0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//i73
  0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,//j74
  0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,//k75
  0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,//l76
  0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,//m77
  0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,//n78
  0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,//o79
  0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,//p80
  0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,//q81
  0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,//r82
  0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,//s83
  0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,//t84
  0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,//unsigned char5
  0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,//v86
  0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,//w87
  0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,//x88
  0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,//y89
  0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,//z90
  0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,//{91
  0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,//|92
  0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,//}93
  0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,//~94
};

//14*16点阵汉字
const unsigned char F14x16_Idx[] = 
{
   "驰瑞纵横智能车科技"
};
const unsigned char F14x16[] = 
{ 	
		0x02,0xFA,0x82,0x82,0xFE,0x80,0x20,0xFC,0x10,0xFF,0x08,0xFC,0x00,0x00,
		0x08,0x08,0x04,0x24,0x20,0x1F,0x00,0x1F,0x20,0x27,0x22,0x23,0x38,0x00,//驰0
		0x44,0x44,0xFC,0x44,0x44,0x20,0x2E,0x28,0xA8,0x6F,0x28,0x28,0x2E,0x00,
		0x08,0x08,0x0F,0x04,0x04,0x00,0x3F,0x01,0x1F,0x01,0x1F,0x21,0x3F,0x00,//瑞1
		0x10,0x9C,0x53,0x30,0x0C,0x00,0x00,0xFF,0x00,0x00,0xFF,0x00,0x00,0x00,
		0x09,0x09,0x05,0x25,0x10,0x08,0x06,0x21,0x12,0x0C,0x03,0x1C,0x20,0x00,//纵2
		0x08,0xC8,0xFF,0x48,0x90,0xD4,0x5F,0x54,0xF4,0x54,0x5F,0xD4,0x10,0x00,
		0x01,0x00,0x3F,0x00,0x00,0x27,0x15,0x05,0x07,0x05,0x15,0x27,0x00,0x00,//横3
		0x94,0x53,0x32,0x1E,0x32,0x52,0x10,0x7E,0x42,0x42,0x42,0x7E,0x00,0x00,
		0x00,0x00,0x3F,0x15,0x15,0x15,0x15,0x15,0x15,0x15,0x3F,0x00,0x00,0x00,//智4
		0x08,0xCC,0x4A,0x49,0x48,0xCC,0x18,0x00,0x9F,0x24,0x24,0x22,0xBA,0x00,
		0x00,0x3F,0x05,0x05,0x25,0x3F,0x00,0x00,0x1F,0x22,0x22,0x21,0x38,0x00,//能5
		0x00,0x04,0x64,0x54,0x4C,0x47,0xF4,0x44,0x44,0x44,0x44,0x04,0x00,0x00,
		0x02,0x02,0x02,0x02,0x02,0x02,0x3F,0x02,0x02,0x02,0x02,0x02,0x02,0x00,//车6
		0x20,0x24,0xA4,0xFC,0x22,0x22,0x10,0x62,0x0C,0x00,0xFF,0x80,0x80,0x00,
		0x04,0x02,0x01,0x3F,0x01,0x02,0x01,0x01,0x01,0x01,0x3F,0x00,0x00,0x00,//科7
		0x08,0x08,0xFF,0x88,0x00,0x48,0xC8,0x48,0x7F,0x48,0xC8,0x08,0x00,0x00,
		0x21,0x21,0x3F,0x00,0x20,0x20,0x11,0x0A,0x04,0x0A,0x11,0x20,0x20,0x00,//技8
};

//图片显示
//数据水平，字节垂直
const unsigned char longqiu96x64[768] = 
{
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X80,0X80,0XC0,0XC0,0XC0,0X60,0X60,0X60,0X30,0X30,0X30,0X38,0X18,0X18,
0X18,0X18,0X0C,0X0C,0X0C,0X0C,0X0C,0X0E,0X0E,0X0E,0X06,0X06,0X06,0X06,0X06,0X06,
0X06,0X06,0X06,0X06,0X06,0X06,0X06,0X0E,0X0E,0X0C,0X0C,0X0C,0X0C,0X0C,0X1C,0X18,
0X18,0X18,0X18,0X30,0X30,0X30,0X70,0X60,0X60,0XE0,0XC0,0XC0,0X80,0X80,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0XC0,0XE0,0X70,0X30,0X38,0X1C,0X0C,0X06,
0X07,0X03,0X03,0X01,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X80,0X80,0X80,0X00,0X00,0X00,0X00,0X00,0X80,0X80,
0XF0,0XF8,0XF8,0XF0,0X80,0X00,0X00,0X80,0XE0,0XF0,0XF8,0XFC,0X3C,0X1C,0X0C,0X0C,
0X1C,0XFC,0XF8,0XF0,0XE0,0X80,0X00,0X00,0X00,0XC0,0XC0,0XC1,0X01,0X03,0X03,0X07,
0X06,0X0E,0X0C,0X18,0X38,0X70,0X60,0XC0,0X80,0X80,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0XC0,0XF0,0X78,0X1E,0X07,0X33,0X31,0X38,0X78,0XFC,0XFE,0XF6,0XC0,0X80,
0X00,0X00,0X00,0X00,0XC0,0XC0,0X80,0X00,0XF8,0XFC,0XDE,0X0E,0X0F,0X1E,0XBE,0XFC,
0XF0,0X06,0XFF,0XFF,0XFF,0XFF,0X03,0X07,0XFF,0XFF,0XFE,0X80,0X1E,0X3F,0XFF,0XFF,
0XF9,0XF9,0XFF,0XFF,0X7F,0X1F,0X0E,0X7F,0XFF,0XFF,0XFF,0XC1,0X80,0XCE,0XCE,0XC6,
0XC0,0XFF,0XFF,0XFF,0XFF,0X3F,0X80,0XFC,0XFC,0XFD,0X7D,0X01,0XC0,0XF8,0XF8,0XF0,
0X70,0X00,0XC0,0X80,0X80,0X80,0X00,0X00,0X01,0X07,0X0E,0X3C,0XF8,0XE0,0X80,0X00,
0X00,0XFE,0XFF,0X03,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0X03,0X0F,0X1F,0X7F,
0XFE,0XFC,0XF0,0XF0,0XF0,0X7F,0X7F,0X3E,0X10,0X03,0X03,0X0F,0X1F,0X1F,0X0F,0X0F,
0X03,0X04,0X07,0X07,0X07,0X07,0X06,0X00,0X07,0X07,0X07,0X0F,0X1E,0X3F,0X7F,0X7F,
0X7F,0X79,0X73,0X3F,0X3F,0X1F,0X0E,0X00,0X01,0X03,0X03,0X07,0X07,0X06,0X0E,0X0F,
0X0F,0X1F,0X3F,0X3D,0X08,0X0C,0X1F,0X1F,0X1F,0X19,0X3C,0X7F,0X7F,0X7F,0XF3,0XF0,
0XFC,0XFE,0X3F,0X1F,0X07,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0XCF,0XFF,0X70,
0X00,0X03,0X1F,0X7E,0XF0,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X03,0X03,0X01,0X01,0X00,0X00,0X00,0X00,0XC0,0XC0,0X40,0X40,0X40,0X40,0XF8,0X78,
0X40,0XC0,0X40,0X58,0X58,0X40,0X40,0X40,0X00,0X00,0X00,0X00,0X00,0X80,0X80,0X80,
0X00,0X00,0X00,0X00,0X00,0X00,0X60,0XF0,0XE0,0X20,0X20,0X20,0X20,0X30,0X30,0X38,
0X18,0X10,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,
0X01,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X80,0XE0,0XF8,0X3F,0X0F,0X00,
0X00,0X00,0X00,0X00,0X00,0X03,0X07,0X0E,0X1C,0X38,0X30,0X60,0XE0,0XC0,0X80,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X40,0X60,0X60,0X70,0X30,0X18,0X0C,0X07,0X11,0X08,
0X3F,0X7D,0X66,0XE7,0XE3,0XC0,0XC0,0XC0,0XE0,0X60,0X00,0X00,0X00,0X03,0X03,0X03,
0X00,0X00,0X60,0X60,0X60,0X60,0X60,0X7F,0X7F,0X61,0X61,0X61,0X61,0X7F,0X7F,0X61,
0X61,0XE1,0XE0,0XE0,0XC0,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X80,0XC0,0XC0,0XE0,0X70,0X38,0X18,0X0C,0X07,0X03,0X01,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X01,0X01,0X03,
0X03,0X06,0X06,0X0C,0X0C,0X18,0X18,0X38,0X30,0X30,0X70,0X60,0X60,0XE0,0XC0,0XC0,
0XC0,0XC0,0XC0,0X80,0X80,0X80,0X81,0X80,0X80,0X80,0X80,0X80,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X80,0X80,0X80,0X80,0X80,0X80,0X80,0X80,0X80,0X80,0XC0,0XC0,
0XC0,0XC0,0XC0,0X60,0X60,0X60,0X30,0X30,0X30,0X18,0X18,0X1C,0X0C,0X0E,0X06,0X07,
0X03,0X03,0X01,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X01,0X01,0X01,0X01,0X01,0X01,0X01,0X03,0X03,0X03,0X03,0X03,0X03,0X03,
0X03,0X03,0X03,0X03,0X03,0X03,0X03,0X01,0X01,0X01,0X01,0X01,0X01,0X01,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
};
const unsigned char LIBLOGO83x64[] = 
{ 
  /*--  宽度x高度  --*/
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xF8,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,0xFC,
0xFC,0xFC,0x7C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xF8,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0x7F,0x1F,0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0xFC,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0x3F,0x0F,0x83,0xE0,0xF8,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0x3F,0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0xFC,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x0F,0x07,0x03,0xF1,0xF9,0xF8,
0xBC,0x9C,0x9C,0x1C,0x3C,0x7C,0x78,0x70,0x01,0x03,0x07,0x3F,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0x3F,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0xF8,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFC,0xE0,0xC0,0x80,
0x38,0x79,0xFB,0xF3,0xE3,0xE7,0xE7,0xF7,0xFF,0x7E,0x3C,0x80,0xC0,0xE0,0xF8,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x3F,
0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x80,0xE0,0xF8,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0x7F,0x0F,0x03,0xC0,0xF0,0xFC,0xFE,0xFE,0xFE,0xFE,0xFE,0xFE,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,0x0F,
0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x80,0xE0,0xF8,0xFE,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,
0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x7F,
0x1F,0x07,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x7C,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,
0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x7F,0x3F,0x1F,
0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
//***************************************函数***************************************************

/*
************************************************************************************************
*函数：OLED_Point_init(void)
*参数：0
*返回：0
*功能：使用端口初试化
************************************************************************************************
*/
void OLED_Point_init(void)     //端口初始化   如果改变了IO口  则需要在这儿改
{
	gpio_init (PTB9, GPO,1);
        gpio_init (PTB11, GPO,1);
        gpio_init (PTB16, GPO,1);
        gpio_init (PTB17, GPO,1);
        gpio_init (PTB10, GPO,1);     
}

/*
************************************************************************************************
*函数：OLED_WrDat(unsigned char dat)
*参数：dat：要写入的数据
*返回：0
*功能：向OLED写数据
************************************************************************************************
*/
void OLED_WrDat(unsigned char dat)
{
	unsigned char i=8;
	OLED_CS_L;
	OLED_DC_H;
	OLED_SCL_L;
	asm("nop");
	while(i--)
		{
			if(dat&0x80){OLED_SDA_H;}
			else{OLED_SDA_L;}
			OLED_SCL_H; 
			asm("nop");	            
			OLED_SCL_L;    
			dat<<=1;    
		}
	//OLED_CS_H;
}
/*
************************************************************************************************
*函数：OLED_WrCmd(unsigned char cmd)
*参数：cmd:要写入的命令
*返回：0
*功能：向OLED写命令
************************************************************************************************
*/
void OLED_WrCmd(unsigned char cmd)
{
	unsigned char i=8;
	OLED_CS_L;
	OLED_DC_L;
    OLED_SCL_L;
    asm("nop");   
    while(i--)
    	{
    		if(cmd&0x80){OLED_SDA_H;}
    		else{OLED_SDA_L;}
    		OLED_SCL_H;
    		asm("nop");             
    		OLED_SCL_L;     
    		cmd<<=1;  
    	} 	
    OLED_CS_H;
}
/*
************************************************************************************************
*函数：OLED_SetPos(unsigned char x, unsigned char y)
*参数：x:设定光标的位置x轴坐标（0~128），y：设定光标的位置y轴坐标（0~64）
*返回：0
*功能：设定光标的位置，即起始坐标
************************************************************************************************
*/
void OLED_SetPos(unsigned char x, unsigned char y)
{
	OLED_WrCmd(0xb0 + y);
	OLED_WrCmd(((x&0xf0)>>4)|0x10);
	OLED_WrCmd((x&0x0f)|0x01);
}
/*
************************************* ***********************************************************
*函数：OLED_Fill(unsigned char bmp_dat)
*参数：bmp_dat:填充的数（）
*返回：0
*功能：全屏填充
************************************************************************************************
*/
void OLED_Fill(unsigned char bmp_dat)
{
	unsigned char y,x;
		for(y=0;y<8;y++)
		{
			OLED_WrCmd(0xb0+y);
			OLED_WrCmd(0x01);
			OLED_WrCmd(0x10);
			for(x=0;x<X_WIDTH;x++)
			{
				OLED_WrDat(bmp_dat);
			}
		}
}
/*
************************************************************************************************
*函数：OLED_CLS(void)
*参数：0
*返回：0
*功能：清屏
************************************************************************************************
*/
void OLED_CLS(void)
{
	OLED_Fill(0x00);
}
/*
************************************************************************************************
*函数：OLED_Init(void)
*参数：0
*返回：0
*功能：OLED初始化
************************************************************************************************
*/
void OLED_Init(void)
{
	OLED_Point_init();//初始化端口
	
	OLED_SCL_H;
	OLED_RST_L;
	systick_timing_ms(50);
	OLED_RST_H;
		
	OLED_WrCmd(0xae);//--turn off oled panel
	OLED_WrCmd(0x00);//--set low column address
	OLED_WrCmd(0x10);//--set high column address
	OLED_WrCmd(0x40);//--set start line address  Set Mapping RAM Display Start Line (0x00~0x3F)
	OLED_WrCmd(0x81);//--set contrast control register
	OLED_WrCmd(0xcf);//--Set SEG Output Current Brightness
	OLED_WrCmd(0xa1);//--Set SEG/Column Mapping     0xa0???? 0xa1??
	OLED_WrCmd(0xc8);//--Set COM/Row Scan Direction   0xc0???? 0xc8??
	OLED_WrCmd(0xa6);//--set normal display
	OLED_WrCmd(0xa8);//--set multiplex ratio(1 to 64)
	OLED_WrCmd(0x3f);//--1/64 duty
	OLED_WrCmd(0xd3);//--set display offset	Shift Mapping RAM Counter (0x00~0x3F)
	OLED_WrCmd(0x00);//--not offset
	OLED_WrCmd(0xd5);//--set display clock divide ratio/oscillator frequency
	OLED_WrCmd(0x80);//--set divide ratio, Set Clock as 100 Frames/Sec
	OLED_WrCmd(0xd9);//--set pre-charge period
	OLED_WrCmd(0xf1);//--Set Pre-Charge as 15 Clocks & Discharge as 1 Clock
	OLED_WrCmd(0xda);//--set com pins hardware configuration
	OLED_WrCmd(0x12);
	OLED_WrCmd(0xdb);//--set vcomh
	OLED_WrCmd(0x40);//--Set VCOM Deselect Level
	OLED_WrCmd(0x20);//--Set Page Addressing Mode (0x00/0x01/0x02)
	OLED_WrCmd(0x02);
	OLED_WrCmd(0x8d);//--set Charge Pump enable/disable
	OLED_WrCmd(0x14);//--set(0x10) disable
	OLED_WrCmd(0xa4);//--Disable Entire Display On (0xa4/0xa5)
	OLED_WrCmd(0xa6);//--Disable Inverse Display On (0xa6/a7) 
	OLED_WrCmd(0xaf);//--turn on oled panel
	OLED_Fill(0x00);//清屏
	OLED_SetPos(0,0);//定位到原点
}
/*
************************************************************************************************
*函数：OLED_6x8Str(unsigned char x, unsigned char y, unsigned char ch[])
*参数：x:x轴坐标,y:y轴坐标，ch[]:要显示的字符串
*返回：0
*功能：显示6*8的点阵字符串
************************************************************************************************
*/
void OLED_6x8Str(unsigned char x, unsigned char y, unsigned char ch[])
{
	unsigned char c=0,i=0,j=0;
	while (ch[j]!='\0')
	{
		c = ch[j]-32;
		if(x>126)
		{
			x=0;y++;
		}
		OLED_SetPos(x,y);
		for(i=0;i<6;i++)
		{
			OLED_WrDat(F6x8[c][i]);
		}
		x+=6;
		j++;
	}
}
/*
************************************************************************************************
*函数：OLED_8x16Str(unsigned char x, unsigned char y, unsigned char ch[])
*参数：x:x轴坐标,y:y轴坐标，ch[]:要显示的字符串
*返回：0
*功能：显示8*16的点阵字符串
************************************************************************************************
*/
void OLED_8x16Str(unsigned char x, unsigned char y, unsigned char ch[])
{
	unsigned char c=0,i=0,j=0;
		while (ch[j]!='\0')
		{
			c =ch[j]-32;
			if(x>120)
			{
				x=0;y++;
			}
			OLED_SetPos(x,y);
			for(i=0;i<8;i++)
			{
				OLED_WrDat(F8X16[c*16+i]);
			}
			OLED_SetPos(x,y+1);
			for(i=0;i<8;i++)
			{
				OLED_WrDat(F8X16[c*16+i+8]);
			}
			x+=8;
			j++;
		}
}
/*
************************************************************************************************
*函数：OLED_8x16Str(unsigned char x, unsigned char y, unsigned char ch[])
*参数：x:x轴坐标,y:y轴坐标，ch[]:要显示的字符串
*返回：0
*功能：显示14*16的汉字字符串
************************************************************************************************
*/
void OLED_14x16CN(unsigned char x, unsigned char y, unsigned char ch[])
{
	unsigned char wm=0,ii = 0;
	unsigned int adder=1; 
	while(ch[ii] != '\0')
		{
	  		wm = 0;
	  		adder = 1;
	  	while(F14x16_Idx[wm] > 127)
	  		{
	  			if(F14x16_Idx[wm] == ch[ii])
	  			{
	  				if(F14x16_Idx[wm + 1] == ch[ii + 1])
	  					{
	  						adder = wm * 14;
	  						break;
	  					}
	  			}
	  			wm += 2;			
	  		}
	  	if(x>118){x=0;y++;}
	  	OLED_SetPos(x,y); 
	  	if(adder != 1)// 显示汉字					
	  	{
	  		OLED_SetPos(x,y);
	  		for(wm = 0;wm < 14;wm++)               
	  			{
	  				OLED_WrDat(F14x16[adder]);	
	  				adder += 1;
	  			}      
	  		OLED_SetPos(x,y + 1); 
	  		for(wm = 0;wm < 14;wm++)          
	  			{
	  				OLED_WrDat(F14x16[adder]);
	  				adder += 1;
	  			}   		
	  	}
	  	else//显示空白字符			
	  	{
	  		ii += 1;
	  		OLED_SetPos(x,y);
	  		for(wm = 0;wm < 16;wm++)
	  			{
	  				OLED_WrDat(0);
	  			}
	  		OLED_SetPos(x,y + 1);
	  		for(wm = 0;wm < 16;wm++)
	  			{   		
	  				OLED_WrDat(0);	
	  			}
	  	}
	  	x += 14;
	  	ii += 2;
		}
}
/*
************************************************************************************************
*函数：OLED_Print(unsigned char x, unsigned char y, unsigned char ch[])
*参数：x:x轴坐标,y:y轴坐标，ch[]:要显示的字符串
*返回：0
*功能：显示汉字和英文混合的字符串
************************************************************************************************
*/
void OLED_Print(unsigned char x, unsigned char y, unsigned char ch[])
{
	unsigned char ch2[3];
	unsigned char ii=0;        
	while(ch[ii] != '\0')
	{
		if(ch[ii] > 127)
		{
			ch2[0] = ch[ii];
	 		ch2[1] = ch[ii + 1];
			ch2[2] = '\0';//汉字为两个字节
			OLED_14x16CN(x,y,ch2);//显示汉字
			x += 14;
			ii += 2;
		}
		else
		{
			ch2[0] = ch[ii];	
			ch2[1] = '\0';			//字母占一个字节
			OLED_14x16CN(x,y,ch2);	//显示字母
			x += 8;
			ii+= 1;
		}
	}
}
/*
************************************************************************************************
*函数：OLED_BMP(unsigned char x0, unsigned char y0, unsigned char x1, unsigned char y1, unsigned char BMP[])
*参数：x:x轴坐标(x0:起始坐标，x1:结束坐标),y:y轴坐标(y0:起始坐标，y1:结束坐标)，BMP[]:要显示的图片
*返回：0
*功能：显示图片
************************************************************************************************
*/
void OLED_BMP(unsigned char x0, unsigned char y0, unsigned char x1, unsigned char y1, unsigned char BMP[])
{
	unsigned int j=0;
	unsigned char x,y;
	if(y1%8==0)
		{
			y=y1/8;
		}
	else
		y=y1/8+1;
	for(y=y0;y<y1;y++)
		{
			OLED_SetPos(x0,y);
			for(x=x0;x<x1;x++)
			{
				OLED_WrDat(BMP[j++]);
			}
		}
}
/*
************************************************************************************************
*函数：OLED_Dis_Num(unsigned char x,unsigned char y,unsigned int num,unsigned char N)
*参数：x:x轴坐标（0~128）,y:y轴坐标（0~8），num:显示的变量 无符号整形，N：输出数字的位数 1~5
*返回：0
*功能：显示变量
************************************************************************************************
*/
void OLED_Dis_Num(unsigned char x,unsigned char y,unsigned int num,unsigned char N)
{
	unsigned char j=0;
	unsigned char n[6]={0};
	x=x*8;
	n[0]=(num/10000)%10; 
	n[1]=(num/1000)%10;
	n[2]=(num/100)%10;
	n[3]=(num/10)%10;
	n[4]=num%10;
	n[6]='\0';
	for(j=0;j<5;j++) n[j]=n[j]+16+32;
	OLED_6x8Str(x,y,&n[5-N]);//从ACSII码表中读取字节，然后写入液晶
}
/*
************************************************************************************************
*函数：OLED_Dis_Float(unsigned char x,unsigned char y,double FL,unsigned char N)
*参数：x:x轴坐标（0~128）,y:y轴坐标（0~8），FL:显示的变量 双精度浮点型，N：输出数字的位数 1~5
*返回：0
*功能：显示双精度的变量
************************************************************************************************
*/
void OLED_Dis_Float(unsigned char x,unsigned char y,double FL,unsigned char N)
{
	unsigned char i_Count=1;
	unsigned char n[12]={0};
	long   j=1;  
	unsigned int real_int=0;
	double decimal=0;
	unsigned int real_decimal=0;
//	x=x*8;
	real_int=(int)FL;
	//OLED_Dis_Num(2,0,real_int,5);
	decimal=FL-real_int;
	real_decimal=decimal*1e4;
	//OLED_Dis_Num(2,6,real_decimal,4);
	while(real_int/10/j!=0)
	   {
	      j=j*10;i_Count++;  
	   } 
	 n[0]=(real_int/10000)%10; 
	 n[1]=(real_int/1000)%10;
	 n[2]=(real_int/100)%10;
	 n[3]=(real_int/10)%10;
	 n[4]=(real_int/1)%10; 
	 n[5]='.';
	 n[6]=(real_decimal/1000)%10;
	 n[7]=(real_decimal/100)%10;
	 n[8]=(real_decimal/10)%10;
	 n[9]=real_decimal%10;
	 n[6+N]='\0'; 
	 for(j=0;j<10;j++) n[j]=n[j]+16+32;
	 n[5]='.';
	 n[6+N]='\0';   
	 OLED_6x8Str(x,y,&n[5-i_Count]); 
}
/*
************************************************************************************************
*函数：OLED_Image_Show(void)
*参数：0
*返回：0
*功能：在OLED上显示鹰眼的图像
************************************************************************************************
*/
void OLED_Image_Show(void)
{
      uint8 i,j;
         for(i=0;i<60;i++)
         {
           for(j=0;j<80;j++)
           {
             if(img[i][j]>0X60)
               img[i][j]=0x01;//白色为1
             else
               img[i][j]=0x00;//黑色为0
           }
         }
         for(i=0; i<=6; i++)//7次循环完成56*80的图像区
        {
         OLED_SetPos(24,i);
         for(j=0; j<80; j++)//一次循环完成一个8*60的图像区
        {
           unsigned char x;
           x=0x00;
            x = img[i*8][j]
           +img[i*8+1][j]*2
           +img[i*8+2][j]*4
           +img[i*8+3][j]*8
           +img[i*8+4][j]*16
           +img[i*8+5][j]*32
           +img[i*8+6][j]*64
           +img[i*8+7][j]*128;//将竖着的8个像素合并成一个字节
          OLED_WrDat(x);
         }
       //上面的一段程序完成了56行像素的显示，同理，下面显示剩下4行
       OLED_SetPos(24,7);
         for(j=0; j<80; j++)
         {
           unsigned char x ;
           x=0x00;
           x=img[56][j]
          +img[57][j]*2
          +img[58][j]*4
          +img[59][j]*8;
           OLED_WrDat(x);
         }
       }
}
/*
************************************************************************************************
*函数：OLED_CCD(void)
*参数：0
*返回：0
*功能：在OLED上显示CCD的图像
************************************************************************************************
*/
void OLED_CCD(void)
{
  int i;
  uint8 PP_A[128];
  for(i=0;i<128;i++)
  {
    PP_A[i]=63-Pixel_A[i]/4;
    OLED_SetPos(i,PP_A[i]/8);
    OLED_WrDat(1<<(PP_A[i]%8));
  }
  //  for(i=0;i<128;i++)
 // {
  //  OLED_SetPos(i,2);
   // OLED_WrDat(1<<2); 
 // }
}
